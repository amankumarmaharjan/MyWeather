package com.example.MyWeather.service;

import com.example.MyWeather.Model.Response;
import com.example.MyWeather.Model.Weather;
import com.example.MyWeather.utility.WeatherMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.reactive.function.client.WebClient;

import java.util.List;

@Service
public class WeatherService {

    /* image url */
    private String cloudyImageURL = "data:image/jpeg;base64,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";
    private String rainyImageURL = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdSVUWgDIFcHITTIottOdF95nbOUtFodmlTA&usqp=CAU";
    private String sunnyImageURL = "data:image/jpeg;base64,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";

    @Autowired
    private WebClient.Builder webClientBuilder;

    /* Get the weather by using location */
    public Weather getWeather(String location) {

        String baseURL = WeatherMapper.getURLByLocation(location);

        WebClient webClient = webClientBuilder.build();
        Response response = webClientBuilder.build()
                .get()
                .uri(baseURL)
                .retrieve()
                .bodyToMono(Response.class)
                .block();

        /* Get the latest Weather */
        Weather latestWeatherData = response.getObservations().getData().get(0);
        System.out.println(latestWeatherData);
        if (latestWeatherData.getCloud().equals("-") && latestWeatherData.getRain_trace().equals("-")) {
            latestWeatherData.setCloud("Good to go out");
            latestWeatherData.setImage(sunnyImageURL);
        } else {
            latestWeatherData.setCloud("Cloudy");
            latestWeatherData.setImage(cloudyImageURL);
        }


        return latestWeatherData;

    }

    /* Get list of all location */
    public List<String> getLocationList() {
        return WeatherMapper.getLocationList();
    }

}
